# Документация по проекту MatrixFlow

## 1. Обзор проекта

**MatrixFlow** — это современное веб-приложение, разработанное для MLM (Multi-Level Marketing) матричного проекта. Его главная цель — предоставить пользователям мощный, интуитивно понятный и визуально привлекательный интерфейс для управления своей сетевой структурой, финансами, маркетинговыми усилиями и обучением.

Приложение спроектировано как единый центр управления ("дашборд"), где участник может отслеживать свой прогресс, анализировать эффективность команды, получать доступ к рекламным материалам и общаться с сообществом.

### Ключевые принципы дизайна:
- **Информативность:** Вся важная информация доступна в несколько кликов.
- **Визуализация:** Сложные данные, такие как структура матрицы, представлены в наглядной графической форме.
- **Вовлеченность:** Интерактивные элементы, геймификация (задания, достижения, XP) и инструменты на базе AI мотивируют пользователей к активным действиям.
- **Эстетика:** Современный "dark mode" дизайн с неоновыми акцентами, плавной анимацией и чистым интерфейсом.
- **Адаптивность:** Полностью адаптивный дизайн, обеспечивающий комфортную работу на любых устройствах, от десктопа до смартфона.

---

## 2. Архитектура и технологии

- **Фреймворк:** React 18 с использованием TypeScript для строгой типизации и надежности кода.
- **Стилизация:** Tailwind CSS с кастомной темой для брендинга, дополненный набором уникальных анимаций (keyframes) для создания динамичного пользовательского опыта.
- **Иконки:** `lucide-react` для чистого и консистентного набора иконок.
- **Управление состоянием:** React Context API (`AppContext`) используется для глобального управления состоянием (данные пользователя, текущий вид, задачи, уведомления), что избавляет от необходимости "пробрасывания" пропсов.
- **Источник данных:** На текущем этапе приложение использует моковые (статичные) данные из файла `constants.ts`. Это позволяет полностью разработать и протестировать интерфейс. В файле `README.md` описана четкая стратегия перехода на клиент-серверную архитектуру с REST API бэкендом.
- **Интеграция с AI:** Функции, использующие ИИ (AI-Копирайтер, AI-Аналитик, AI-Генератор баннеров), симулируют асинхронные запросы к бэкенд-сервису, который, в свою очередь, должен безопасно обращаться к API Gemini.

---

## 3. Подробное описание функций и компонентов

### 3.1. Основная навигация (`App.tsx`)
- **Боковая панель (Desktop):** Иерархическое меню с выпадающими группами для легкого доступа ко всем разделам.
- **Нижняя панель (Mobile):** Быстрый доступ к четырем основным разделам (`Главная`, `Матрица`, `Аналитика`, `Финансы`) и кнопка "Ещё" для вызова модального окна со всеми остальными пунктами меню.

### 3.2. Главная (`Dashboard.tsx`)
**Назначение:** Центральный хаб, который дает пользователю моментальный срез его текущего положения в проекте.
- **Welcome Banner:** Персонализированное приветствие.
- **User Hub:** Ключевые показатели пользователя: уровень, баланс, количество рефералов, закрытых матриц и прогресс до следующего уровня.
- **Earnings Chart:** Интерактивный график доходов за последние 7 дней.
- **Matrix Snapshot:** Мини-виджет, показывающий текущее состояние заполнения матрицы пользователя.
- **Referral Actions:** Инструменты для быстрого копирования реферальной ссылки и навигации к ключевым разделам.
- **Project Stats Bar:** Глобальная статистика всего проекта.
- **Интегрированные виджеты:** `DailyTasks` и `LiveFeed` для повышения вовлеченности.

### 3.3. Матрица (`MatrixView.tsx`)
**Назначение:** Визуальное ядро проекта. Позволяет пользователю в интерактивном режиме исследовать свою структуру.
- **Интерактивное дерево:** Пользователи могут перетаскивать (pan) и масштабировать (zoom) вид.
- **Детализация узлов:** При наведении на любого участника отображается подробная информация (статус, тип, дата регистрации, статистика).
- **Типы узлов:** Цветовая кодировка для "личников", "переливов" и "клонов".
- **Индикаторы эффективности:** "Горячие" (активные) и "неактивные" партнеры подсвечиваются иконками.
- **Инструменты:**
  - **Поиск:** Позволяет найти любого партнера в глобальной структуре по имени или ID.
  - **Фильтры:** Фильтрация структуры по уровням или по типам партнеров (переливы, клоны и т.д.).
  - **Экспорт в PNG:** Сохранение текущего вида матрицы как изображения.
  - **Аналитика структуры:** Вызов детальной аналитической панели для любой выбранной ветки.

### 3.4. Аналитика (`TeamProgress.tsx`)
**Назначение:** Комплексный инструмент для анализа и управления командой.
- **Вкладка "Аналитика":**
  - **AI-Аналитик:** **Ключевая фича.** Использует симуляцию вызова Gemini для анализа данных команды и генерации персонализированных, действенных советов по увеличению эффективности. Ответ появляется с эффектом "печатания" текста.
  - **Виджеты:** Графики и диаграммы, показывающие эффективность команды, уровень активности и темпы роста.
- **Вкладка "Список команды":**
  - Таблица со всеми лично приглашенными партнерами.
  - Функционал: Сортировка по любому полю, поиск по имени, фильтрация по статусу (активен/неактивен).
- **Вкладка "Достижения":**
  - Система геймификации. Отображает все доступные и полученные достижения с прогресс-барами для тех, что находятся в процессе выполнения.

### 3.5. Финансы (`Wallet.tsx`)
**Назначение:** Полное управление финансовыми операциями.
- **Пополнение:** Симуляция пополнения через криптовалюту (с генерацией QR-кода) и банковские карты.
- **Вывод:** Многошаговый процесс с подтверждением для повышения безопасности.
- **Внутренний перевод:** Функция перевода средств другому участнику по его ID. Включает шаг поиска и верификации получателя.
- **История операций:** Детальная таблица всех транзакций с иконками и статусами.

### 3.6. Инструменты Роста
- **AI-Копирайтер (`MarketingGenius.tsx`):** Помогает пользователям создавать рекламные тексты. Пользователь вводит запрос (промпт), и система (симулируя стриминг от Gemini) генерирует текст.
- **Промо-материалы (`Promo.tsx`):**
  - **Готовые материалы:** Предоставляет готовые баннеры и тексты для соцсетей.
  - **AI-Генератор баннеров:** **Уникальная фича.** Пользователь вводит текстовое описание, и система (симулируя модель Imagen) генерирует уникальное изображение для баннера.
- **Моя страница (`LandingPage.tsx`):**
  - Готовая публичная страница-визитка для каждого пользователя.
  - Содержит фото, приветственное сообщение (редактируемое), статистику и кнопку для регистрации.
  - Инструменты для шаринга: QR-код, прямая ссылка, кнопки "поделиться" в мессенджерах.

### 3.7. Сообщество
- **Общий чат (`Chat.tsx`):** Полнофункциональный чат с поддержкой ответов, реакций, вложений, закрепленных сообщений и профилей пользователей.
- **Лидеры (`Leaderboard.tsx`):** Таблица лидеров проекта по доходу с визуальным выделением топ-3 на "пьедестале".
- **Живая лента (`LiveFeed.tsx`):** Лента событий проекта в реальном времени.
- **Отзывы (`Reviews.tsx`):** Пользователи могут оставлять свои отзывы с рейтингом.

### 3.8. Информация и поддержка
- **Академия (`Academy.tsx`):** База знаний с обучающими статьями и видео. Контент может быть заблокирован и открываться по достижении определенного уровня. За прохождение уроков начисляются очки опыта (XP).
- **Новости, FAQ, Как это работает, Поддержка:** Стандартные информационные разделы для помощи пользователям.

### 3.9. Система заданий (`TasksView.tsx`)
**Назначение:** Геймификация и направление активности пользователей.
- **Категории:** Задания для новичков (onboarding), ежедневные и специальные (ограниченные по времени).
- **Награды:** За выполнение заданий пользователь получает очки опыта (XP), которые влияют на его уровень.
- **Интерактивность:** Задания могут требовать перехода в другой раздел, копирования текста или перехода по внешней ссылке. Выполнение отслеживается автоматически.
