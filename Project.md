# Документация по проекту "Nexus Capital"

## 1. Концепция проекта

**"Nexus Capital"** — это иммерсивный экономический симулятор, который трансформирует стандартную механику командной работы в захватывающий процесс построения инвестиционного портфеля в мире технологических стартапов. Проект разработан как единый аналитический центр, где пользователи, именуемые **Партнерами**, управляют своими **Стартапами** (инвестиционными раундами), объединяются в **Синдикаты** (команды) и стремятся к доминированию на рынке.

Цель игрока — стратегически развивать свою структуру, привлекать инвесторов, закрывать раунды финансирования и реинвестировать прибыль для экспоненциального роста своего капитала.

---

## 2. Ключевые принципы и дизайн

- **Реализм и престиж:** Вместо игровых элементов — профессиональный дашборд, деловая терминология и строгий корпоративный стиль.
- **Стратегическая глубина:** Успех зависит не только от привлечения инвесторов, но и от грамотных решений: когда и какой стартап масштабировать, в какой отрасли сосредоточить усилия Синдиката.
- **Вовлеченность:** Геймификация (задания, достижения, бонусы) и социальные механики (Синдикаты, совместные сделки) мотивируют пользователей к ежедневной активности.
- **Эстетика:** Современный "dark mode" дизайн с технологичными синими акцентами, плавной анимацией и чистым интерфейсом, создающий атмосферу штаб-квартиры венчурного фонда.
- **Адаптивность:** Полностью адаптивный дизайн для комфортной работы на любых устройствах.

---

## 3. Архитектура и технологии

- **Фреймворк:** React 18 с TypeScript.
- **Стилизация:** Tailwind CSS с кастомной корпоративной темой.
- **Иконки:** `lucide-react`.
- **Управление состоянием:** React Context API (`AppContext`).
- **Источник данных:** На текущем этапе приложение использует моковые (статичные) данные из файла `constants.ts`. Это позволяет полностью реализовать и протестировать бизнес-логику на фронтенде. В `README.md` описана стратегия перехода на бэкенд.
- **Интеграция с AI:** Функции, использующие ИИ (AI-Копирайтер, AI-Аналитик), симулируют асинхронные запросы к бэкенду, как описано в `services/geminiService.ts`.

---

## 4. Основная игровая механика

Игровой процесс строится вокруг нескольких ключевых концепций:

- **Партнеры:** Это игроки. Каждый Партнер имеет свой профиль, уровень, баланс и стремится развить свой бизнес.
- **Стартапы:** Основной инвестиционный актив. Каждый Стартап представляет собой бинарную структуру (дерево), которую Партнер должен "заполнить" инвесторами.
- **Синдикаты:** Команды Партнеров. Успех в Синдикате напрямую влияет на личный прогресс благодаря командной работе и специальным механикам.
- **Раунды финансирования:** Это уровни сложности и доходности Стартапа. Партнер начинает с "Pre-seed", а затем может масштабировать свой стартап до "Раунда А" и "Раунда B", что увеличивает потенциальную прибыль.
- **Exit (Экзит):** Это момент, когда все места в структуре Стартапа заполнены. Партнер получает прибыль, и Стартап считается успешно завершенным.
- **Капитал ($CAP):** Внутриигровая валюта, которую можно покупать, продавать и переводить между Партнерами.
- **"Сделки из синдиката" (Syndicate Deals):** Механика, при которой инвесторы от вышестоящих (более активных) партнеров могут "переливаться" в структуру нижестоящих, помогая им быстрее закрывать раунды.
- **"Spin-off" (Спин-офф):** Механика, позволяющая создавать "копию" своего аккаунта в структуре другого партнера, открывая дополнительные источники дохода.

---

## 5. Обзор компонентов и экранов

### 5.1. Дашборд (`DashboardView.tsx`)
Главный экран, который служит центром управления для Партнера.
- **Приветственный баннер:** Персонализированное приветствие и быстрый доступ к заданиям.
- **Обзор Капитала:** Отображает текущий баланс $CAP с плавной анимацией изменения числа и график доходности за последние 7 дней.
- **Портфель Стартапов:** Показывает сводку по активным стартапам, их стадию и прогресс заполнения.
- **Активность Синдиката:** Лента последних событий в команде, таких как закрытие раундов или достижение новых уровней.
- **Рынок Стартапов:** Виджет для быстрого перехода к различным секторам рынка для поиска новых инвестиционных возможностей.

### 5.2. Управление Стартапом (`StartupView.tsx`)
Это ядро игрового процесса. Экран представляет собой интерактивную визуализацию бинарной структуры Стартапа.
- **Интерактивное дерево:**
  - **Навигация:** Можно "проваливаться" вглубь структуры, кликая на заполненные ячейки. Путь отображается в виде "хлебных крошек".
  - **Перемещение и масштабирование:** Всю структуру можно свободно перемещать (drag) и масштабировать (колесиком мыши).
  - **Приглашение:** Клик на пустую ячейку копирует реферальную ссылку для приглашения нового инвестора.
- **Панель управления Стартапом:** Позволяет переводить стартап на следующие раунды финансирования ("Раунд А", "Раунд B") при выполнении условий по заполнению.
- **Продвинутые инструменты:**
  - **Поиск по ID:** Позволяет найти любого инвестора в глобальной структуре и подсветить путь к нему.
  - **Экспорт в PNG:** Создает снимок текущего вида структуры для демонстрации.
  - **Анализ рисков ("Health Map"):** Визуальный режим, который окрашивает соединительные линии в зависимости от "здоровья" ветки (активности партнеров). Зеленый — активны, желтый — средняя активность, красный — требуют внимания.
  - **AI-Аналитик:** Подсвечивает наиболее стратегически важные пустые ячейки для заполнения и дает подсказки, почему именно они важны (быстрая прибыль, помощь команде, стратегический рост).
  - **Симулятор:** Позволяет "примерить" размещение нового или неактивного инвестора в пустую ячейку. Система показывает, как изменится структура и какие бонусы (прибыль, "сделки из синдиката") получит игрок и его команда от этого действия.

### 5.3. Мой Синдикат (`SyndicateView.tsx`)
Центр управления командой, состоящий из трех вкладок.
- **Аналитика (`TeamAnalyticsView.tsx`):**
  - **AI-Аналитик Команды:** Генерирует текстовый отчет с ключевыми показателями, зонами роста и конкретными рекомендациями (например, "похвалить лучшего рекрутера в чате", "провести обучение по теме X").
  - **Виджеты:** Наглядные графики (Gauge и Donut) для оценки эффективности, активности и роста команды.
- **Партнеры (`TeamListView.tsx`):**
  - **Таблица:** Интерактивная таблица всех лично приглашенных партнеров с возможностью поиска, фильтрации по статусу (активен/неактивен) и сортировки по всем ключевым параметрам.
- **Достижения (`TeamAchievementsView.tsx`):**
  - **Прогресс:** Отображает личные и командные достижения, их прогресс и статус (разблокировано/заблокировано).

### 5.4. Капитал (`CapitalView.tsx`)
Финансовый хаб для управления валютой $CAP.
- **Функционал:** Состоит из четырех вкладок:
  1.  **Купить $CAP:** Пошаговый процесс покупки через криптовалюту (с генерацией QR-кода и адреса) или банковскую карту.
  2.  **Продать $CAP:** Процесс вывода средств с формой подтверждения, где рассчитывается комиссия и итоговая сумма.
  3.  **Перевод:** Функция для внутренних переводов $CAP другому Партнеру по его ID. Включает шаг поиска и верификации получателя.
  4.  **История:** Детализированная таблица всех финансовых операций.

### 5.5. Инструменты Роста
- **AI-Копирайтер (`MarketingGenius.tsx`):** Инструмент на базе Gemini для генерации рекламных текстов, постов для соцсетей и сценариев.
- **Промо-материалы (`Promo.tsx`):** Библиотека готовых баннеров и текстов. Включает **AI-генератор баннеров**, который позволяет создавать уникальные изображения по текстовому запросу.
- **Моя страница (`LandingPage.tsx`):** Редактируемая публичная страница-визитка для каждого Партнера, которую можно использовать для привлечения инвесторов.

### 5.6. Сообщество
- **Общий чат (`Chat.tsx`):** Полнофункциональный чат с поддержкой:
  - Ответов на сообщения.
  - Реакций (эмодзи).
  - Закрепленных сообщений.
  - Боковой панели со списком онлайн-участников и правилами чата.
  - Модального окна с профилем пользователя при клике на его аватар.
- **Прочие разделы:** Таблица лидеров, лента сделок в реальном времени, отзывы.

### 5.7. Информация и Обучение
- **Академия (`Academy.tsx`):** Образовательный центр со статьями и видеоуроками, разделенными по категориям. Прохождение уроков вознаграждается очками опыта (XP).
- **Центр Заданий (`TasksView.tsx`):** Система квестов (для новичков, ежедневных, специальных), выполнение которых дает XP и другие бонусы. Включает еженедельный главный приз за выполнение определенного количества заданий.

---

## 6. Интеграция с AI (Gemini API)

Приложение активно использует AI для улучшения пользовательского опыта. Все вызовы к AI инкапсулированы в `services/geminiService.ts` и симулируют запросы к защищенному бэкенд-эндпоинту.
- **`generateMarketingContentStream`:** Используется в **AI-Копирайтере** для потоковой генерации текста.
- **`generateImage`:** Применяется в **AI-генераторе баннеров** для создания изображений.
- **`getAITeamAnalysisStream`:** Лежит в основе **AI-Аналитика Команды** в разделе "Синдикат". Функция не просто вызывает AI, а предварительно анализирует данные команды (активность, средний уровень, новички) и передает эту сводку в AI для получения более точных и релевантных советов.

---

## 7. Дальнейшие шаги

Следующим этапом является переход от моковых данных к полноценному бэкенду. Стратегия миграции, включая проектирование REST API, аутентификацию и real-time обновления, подробно описана в файле `README.md`.
